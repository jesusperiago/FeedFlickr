"use strict";angular.module("flickrApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angularMoment"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/:id",{templateUrl:"views/feed.html",controller:"FeedCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("flickrApp").controller("MainCtrl",["FlickrService","$scope",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.getAllFeeds(function(a){b.data=a})}]);var jsonFlickrFeed,apiKey,jsonFlickrApi;angular.module("flickrApp").factory("FlickrService",["$http",function(a){return apiKey="3071693b0807e1a7acca88fc5a010e2f",{getAllFeeds:function(b){a.jsonp("https://api.flickr.com/services/feeds/photos_public.gne?tags=potato&tagmode=all&format=json").success(function(){}),jsonFlickrFeed=function(a){b(a.items)}},getOneFeed:function(b,c){a.jsonp("https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+apiKey+"&photo_id="+b+"&format=json").success(function(a){return a}),jsonFlickrApi=function(a){c(a)}},getUrlPhoto:function(a,b){var c=a.farm,d=a.server,e=a.id,f=a.secret,g="m",h="https://farm"+c+".staticflickr.com/"+d+"/"+e+"_"+f+"_"+g+".jpg";b(h)}}}]),angular.module("flickrApp").filter("getIdPhoto",function(){return function(a){var b=a.split("/")[5];return b}}),angular.module("flickrApp").controller("FeedCtrl",["FlickrService","$scope","$routeParams","$location",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.getOneFeed(c.id,function(c){b.data=c.photo,a.getUrlPhoto(c.photo,function(a){b.url=a,b.description=c.photo.description._content})}),b.back=function(){d.url("/")}}]),angular.module("flickrApp").run(["$templateCache",function(a){a.put("views/feed.html",'<div class="feed"> <div class="row"> <div class="col-xs-10"> <a href="https://www.flickr.com/photos/{{data.owner.nsid}}/{{data.id}}/" target="_blank" class="truncate title">{{data.title._content}}</a> </div> <div class="col-xs-2 btn-bottom"> <button class="btn btn-info" ng-click="back()">Back</button> </div> </div> <div class="row list-data"> <div class="col-xs-3"> <h4><a href="https://www.flickr.com/photos/{{data.owner.nsid}}" target="_blank" class="lnk">Photo author</a></h4> </div> <div class="col-xs-1"><h4>|</h4></div> <div class="col-xs-8"> <h4>Published: {{data.dates.posted * 1000|amDateFormat:\'Do MMM YYYY [at] HH:MM\'}} </h4> </div> <div class="col-xs-4"> <a href="https://www.flickr.com/photos/{{data.owner.nsid}}/{{data.id}}/" target="_blank"><img src="{{url}}" alt="{{list.title}}" class="img-thumbnail img-responsive center-block"></a> </div> <div class="col-xs-8" ng-bind-html="description"> </div> </div> <div class="row"> <div class="col-xs-8 col-xs-offset-4"> <hr> Tags: <span ng-repeat="tags in data.tags.tag" class="tags"> {{tags.raw}} </span> </div> </div> </div>'),a.put("views/main.html",'<div class="col-xs-12"> <div class="jumbotron col-xs-12" ng-repeat="feeds in data"> <div class="row col-xs-12 jumb"> <div class="col-xs-3"> <a href="#/{{feeds.link|getIdPhoto}}"><img src="{{feeds.media.m}}" alt="{{feeds.title}}" class="img-thumbnail center-block img-responsive img"></a> </div> <div class="col-xs-9"> <div class="col-xs-12"> <h4> <a href="#/{{feeds.link|getIdPhoto}}" class="truncate">{{feeds.title}} </a> </h4> </div> <div class="col-xs-12 col-sm-6 col-sm-push-3 dates"> Published: {{feeds.published|amDateFormat:\'Do MMM YYYY [at] HH:MM\'}} </div> <div class="col-xs-6 col-sm-3 col-sm-pull-6"> <a href="https://www.flickr.com/photos/{{feeds.author_id}}" target="_blank" class="lnk"> Post author </a> </div> <div class="col-xs-6 col-sm-3"> <a href="{{feeds.link}}" target="_blank" class="lnk"> View in flickr </a> </div> </div> </div> </div> </div> ')}]);